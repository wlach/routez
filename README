=== About ===

Routez is a trip planning web service written in Python and Javascript. 
It uses the libroutez (http://github.com/wlach/libroutez) library for trip
planning functionality.

=== Initial Setup ===

1. Download and install the following packages:
 - Google Transit Data Feed (http://code.google.com/p/googletransitdatafeed/)
   - Any version after 1.2.0 should work.
 - libroutez
   - Get from http://github.com/wlach/libroutez
 - Python ParseDateTime (http://code-bear.com/code/parsedatetime/)
   - I used version 0.8.6.
 - Django (http://www.djangoproject.com/)
   - I used 1.0.
 - SWIG
   - A recentish version is desirable. I used 1.3.36.
 - Python YAML
 - Python SimpleJSON
   - Just getting these from your Linux distribution is probably easiest.

Hint: To install a python package in a local prefix, do:
 
  "python setup.py install --home=$HOME --prefix="

You may need to set PYTHONPATH to $HOME/lib/python first.

2. Download the Halifax Transit Feed Distribution:

   http://github.com/wlach/halifax-transit-feed

Instructions on building the feed are contained within the README. It's mostly
just a matter of typing 'make', once everything's set up.

3. Download OpenStreetMap data for Halifax.

I put up a semi-recent set at:

   http://wlach.masalalabs.ca/greater-hrm-geobase.osm.gz

4. Build a graph corresponding to the OSM and GTFS data

Something like:

 - creategraph.py --osm=/path/to/osmfile.osm /path/to/hfxfeed.zip \
 mygraph.routez mygraph-mapping.yml

(note this assumes libroutez installed in creategraph.py in your $PATH)

5. Build a database of stop, route, and shape information from the GTFS feed
and libroutez mapping files.

 - ./manage.py syncdb
 - ./createdb.py /path/to/hfxfeed.zip mygraph-mapping.yml

6. Configure it.

 - In settings.py, set GRAPH_FILE to the location of the graph file.
 - Put your Cloudmade API key in the file 'cmap_api_key'
 - (optional) Put your google analytics key in the file 'analytics_api_key'

7. Run it!

 - python manage.py runserver
